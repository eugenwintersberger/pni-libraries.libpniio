<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PNI NeXus Library: index_map.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-bizflat.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PNI NeXus Library
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">NeXus library for Photon Neutron Ion Science</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index__map_8hpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">index_map.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="index__map_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;numeric&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="container__utils_8hpp.html">pni/utilities/container_utils.hpp</a>&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacepni.html">pni</a>{</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keyword">class </span>array_selection;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;             <span class="keyword">typename</span> ShapeStoreT,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;             <span class="keyword">typename</span> MapImpT</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            &gt; </div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html">   79</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classpni_1_1index__map.html">index_map</a></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="comment">//=================public types====================================</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a2393d713b9eb613812c39d37040f59f8">   84</a></span>&#160;<span class="comment"></span>            <span class="keyword">typedef</span> ShapeStoreT <a class="code" href="classpni_1_1index__map.html#a2393d713b9eb613812c39d37040f59f8">storage_type</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a212ba47982d92a46dd7fa5f2a80fda4d">   86</a></span>&#160;            <span class="keyword">typedef</span> <span class="keyword">typename</span> storage_type::value_type <a class="code" href="classpni_1_1index__map.html#a212ba47982d92a46dd7fa5f2a80fda4d">value_type</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a77edbf8e30c80d31020d51a0d6f19f9d">   88</a></span>&#160;            <span class="keyword">typedef</span> MapImpT     <a class="code" href="classpni_1_1index__map.html#a77edbf8e30c80d31020d51a0d6f19f9d">implementation_type</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a5da28a9de1d29d2bad97e9828c691a7a">   90</a></span>&#160;            <span class="keyword">typedef</span> <span class="keyword">typename</span> storage_type::iterator <a class="code" href="classpni_1_1index__map.html#a5da28a9de1d29d2bad97e9828c691a7a">iterator</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#abac99c185b97925778a4dd72ec32bf3b">   92</a></span>&#160;            <span class="keyword">typedef</span> <span class="keyword">typename</span> storage_type::const_iterator <a class="code" href="classpni_1_1index__map.html#abac99c185b97925778a4dd72ec32bf3b">const_iterator</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a07705899f78954aa0913a9b06c923ca2">   94</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="classpni_1_1index__map.html">index_map&lt;storage_type,implementation_type&gt;</a> <a class="code" href="classpni_1_1index__map.html#a07705899f78954aa0913a9b06c923ca2">map_type</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keyword">private</span>:</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">   97</a></span>&#160;            <a class="code" href="classpni_1_1index__map.html#a2393d713b9eb613812c39d37040f59f8">storage_type</a> <a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#ab5e5b37286c803965b604bff1a034591">  103</a></span>&#160;<span class="comment"></span>            <a class="code" href="classpni_1_1index__map.html#ab5e5b37286c803965b604bff1a034591">index_map</a>():<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>() {}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a7ce126522e34620e97d6b9abb5c766a3">  111</a></span>&#160;<span class="comment"></span>            <a class="code" href="classpni_1_1index__map.html#a7ce126522e34620e97d6b9abb5c766a3">index_map</a>(<span class="keyword">const</span> <a class="code" href="classpni_1_1index__map.html">map_type</a> &amp;m):<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>(m.<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>) {}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a28faae00ce5cd4cf0a401e2efcfd9b3f">  119</a></span>&#160;<span class="comment"></span>            <a class="code" href="classpni_1_1index__map.html#a28faae00ce5cd4cf0a401e2efcfd9b3f">index_map</a>(<a class="code" href="classpni_1_1index__map.html">map_type</a> &amp;&amp;m):<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>(std::move(m.<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>)) </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                std::fill(m._shape.begin(),m._shape.end(),0); </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#af7e2da9a9d8cd076c7e8e30f78a7bb78">  142</a></span>&#160;            <span class="keyword">explicit</span> <a class="code" href="classpni_1_1index__map.html#af7e2da9a9d8cd076c7e8e30f78a7bb78">index_map</a>(<span class="keyword">const</span> <a class="code" href="classpni_1_1index__map.html#a2393d713b9eb613812c39d37040f59f8">storage_type</a> &amp;s):<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>(s) {}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a70d96587c997568c809ed1f3e1aed298">  161</a></span>&#160;            <span class="keyword">explicit</span> <a class="code" href="classpni_1_1index__map.html#a70d96587c997568c809ed1f3e1aed298">index_map</a>(<a class="code" href="classpni_1_1index__map.html#a2393d713b9eb613812c39d37040f59f8">storage_type</a> &amp;&amp;s):<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>(std::move(s)) {}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a44f7de6c94e65c388caf5c451a82f046">  170</a></span>&#160;<span class="comment"></span>            <a class="code" href="classpni_1_1index__map.html">map_type</a> &amp;<a class="code" href="classpni_1_1index__map.html#a44f7de6c94e65c388caf5c451a82f046">operator=</a>(<span class="keyword">const</span> <a class="code" href="classpni_1_1index__map.html">map_type</a> &amp;m)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <span class="keywordflow">if</span>(<span class="keyword">this</span> == &amp;m) <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a> = m.<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a8f79ac20af545fc9e4b64a99d2af0355">  185</a></span>&#160;<span class="comment"></span>            <a class="code" href="classpni_1_1index__map.html">map_type</a> &amp;<a class="code" href="classpni_1_1index__map.html#a8f79ac20af545fc9e4b64a99d2af0355">operator=</a>(<a class="code" href="classpni_1_1index__map.html">map_type</a> &amp;&amp;m)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <span class="keywordflow">if</span>(<span class="keyword">this</span> == &amp;m) <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a> = std::move(m._shape);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                std::fill(m._shape.begin(),m._shape.end(),0);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#aefc6c5eab2ed30f1a217ee7c1eadbb74">  204</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">size_t</span> <a class="code" href="classpni_1_1index__map.html#aefc6c5eab2ed30f1a217ee7c1eadbb74">max_elements</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="keyword">            </span>{</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>.size() == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    <span class="keywordflow">return</span> std::accumulate(<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>.begin(),<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>.end(),1,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                           std::multiplies&lt;size_t&gt;()); </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#ae05109fdce1bef5e4352a74bea059e6a">  221</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">size_t</span> <a class="code" href="classpni_1_1index__map.html#ae05109fdce1bef5e4352a74bea059e6a">rank</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>.size(); }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="comment">//----------------------------------------------------------------</span></div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#acc7442c17e56458464e1761acb9d4ecc">  232</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">size_t</span> <a class="code" href="classpni_1_1index__map.html#acc7442c17e56458464e1761acb9d4ecc">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classpni_1_1index__map.html#ae05109fdce1bef5e4352a74bea059e6a">rank</a>(); }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                     <span class="keyword">typename</span> ContainerT,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                     <span class="keyword">typename</span> = <span class="keyword">typename</span> <a class="code" href="namespacepni.html#aec9ea31f62e69214bab4247566bc40b3">std::enable_if</a>&lt;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                     std::is_compound&lt;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                     <span class="keyword">typename</span> std::remove_reference&lt;ContainerT&gt;::type</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                     &gt;<a class="code" href="classpni_1_1value.html">::value</a></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                     &gt;::type</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    &gt;</div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#af76ea569de21c4bc4611bdf8597174f0">  258</a></span>&#160;            <span class="keywordtype">size_t</span> <a class="code" href="classpni_1_1index__map.html#af76ea569de21c4bc4611bdf8597174f0">offset</a>(<span class="keyword">const</span> ContainerT &amp;<a class="code" href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">index</a>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keyword">            </span>{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="keywordflow">return</span> implementation_type::template <a class="code" href="classpni_1_1index__map.html#af76ea569de21c4bc4611bdf8597174f0">offset</a>(<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>,<a class="code" href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">index</a>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ContainerT,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                     <span class="keyword">typename</span> = <span class="keyword">typename</span> <a class="code" href="namespacepni.html#aec9ea31f62e69214bab4247566bc40b3">std::enable_if</a>&lt;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                     std::is_compound&lt;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                     <span class="keyword">typename</span> std::remove_reference&lt;ContainerT&gt;::type</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                     &gt;<a class="code" href="classpni_1_1value.html">::value</a></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                     &gt;::type</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    &gt;</div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#aa0b3d6aae142d00ee16c06b01672fd35">  291</a></span>&#160;            <span class="keywordtype">size_t</span> <a class="code" href="classpni_1_1index__map.html#aa0b3d6aae142d00ee16c06b01672fd35">offset</a>(<span class="keyword">const</span> <a class="code" href="classpni_1_1array__selection.html">array_selection</a> &amp;s,<span class="keyword">const</span> ContainerT &amp;<a class="code" href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">index</a>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keyword">            </span>{</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                <span class="keywordflow">return</span> implementation_type::template <a class="code" href="classpni_1_1index__map.html#af76ea569de21c4bc4611bdf8597174f0">offset</a>(s,<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>,<a class="code" href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">index</a>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">  313</a></span>&#160;            <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ContainerT&gt; ContainerT <a class="code" href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">index</a>(<span class="keywordtype">size_t</span> <a class="code" href="classpni_1_1index__map.html#af76ea569de21c4bc4611bdf8597174f0">offset</a>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="keyword">            </span>{</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                ContainerT <a class="code" href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">index</a> = <a class="code" href="structpni_1_1container__utils.html#a2c0e00b8f844957ded3628d3240a1bda">container_utils&lt;ContainerT&gt;::create</a>(<a class="code" href="classpni_1_1index__map.html#ae05109fdce1bef5e4352a74bea059e6a">rank</a>()); </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                implementation_type::template <a class="code" href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">index</a>(<a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>,<a class="code" href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">index</a>,<a class="code" href="classpni_1_1index__map.html#af76ea569de21c4bc4611bdf8597174f0">offset</a>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">index</a>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#ab33813819b5b1e95d3283705a75f5b12">  325</a></span>&#160;<span class="comment"></span>            <a class="code" href="classpni_1_1index__map.html#a5da28a9de1d29d2bad97e9828c691a7a">iterator</a> <a class="code" href="classpni_1_1index__map.html#ab33813819b5b1e95d3283705a75f5b12">begin</a>() { <span class="keywordflow">return</span> <a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>.begin(); }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#ae63b06ecd8ac8e1e7d48d42db4f5111d">  331</a></span>&#160;<span class="comment"></span>            <a class="code" href="classpni_1_1index__map.html#a5da28a9de1d29d2bad97e9828c691a7a">iterator</a> <a class="code" href="classpni_1_1index__map.html#ae63b06ecd8ac8e1e7d48d42db4f5111d">end</a>()   { <span class="keywordflow">return</span> <a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>.end(); }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#add97c1a154ceb30753c554cae28812bc">  337</a></span>&#160;<span class="comment"></span>            <a class="code" href="classpni_1_1index__map.html#abac99c185b97925778a4dd72ec32bf3b">const_iterator</a> <a class="code" href="classpni_1_1index__map.html#add97c1a154ceb30753c554cae28812bc">begin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>.begin(); }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="comment">//-----------------------------------------------------------------</span></div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classpni_1_1index__map.html#ae731a2e21ae0a66bd5b4d72cf756d797">  343</a></span>&#160;<span class="comment"></span>            <a class="code" href="classpni_1_1index__map.html#abac99c185b97925778a4dd72ec32bf3b">const_iterator</a> <a class="code" href="classpni_1_1index__map.html#ae731a2e21ae0a66bd5b4d72cf756d797">end</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">_shape</a>.end(); }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    };</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">//end of namespace</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="ttc" id="aclasspni_1_1array__selection_html"><div class="ttname"><a href="classpni_1_1array__selection.html">pni::array_selection</a></div><div class="ttdoc">selection from a multidimensional array</div><div class="ttdef"><b>Definition:</b> array_selection.hpp:68</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html"><div class="ttname"><a href="classpni_1_1index__map.html">pni::index_map</a></div><div class="ttdoc">dynamic general index map template</div><div class="ttdef"><b>Definition:</b> index_map.hpp:80</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a07705899f78954aa0913a9b06c923ca2"><div class="ttname"><a href="classpni_1_1index__map.html#a07705899f78954aa0913a9b06c923ca2">pni::index_map::map_type</a></div><div class="ttdeci">index_map&lt; storage_type, implementation_type &gt; map_type</div><div class="ttdoc">map type</div><div class="ttdef"><b>Definition:</b> index_map.hpp:94</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a212ba47982d92a46dd7fa5f2a80fda4d"><div class="ttname"><a href="classpni_1_1index__map.html#a212ba47982d92a46dd7fa5f2a80fda4d">pni::index_map::value_type</a></div><div class="ttdeci">storage_type::value_type value_type</div><div class="ttdoc">index type</div><div class="ttdef"><b>Definition:</b> index_map.hpp:86</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a2393d713b9eb613812c39d37040f59f8"><div class="ttname"><a href="classpni_1_1index__map.html#a2393d713b9eb613812c39d37040f59f8">pni::index_map::storage_type</a></div><div class="ttdeci">ShapeStoreT storage_type</div><div class="ttdoc">storage type</div><div class="ttdef"><b>Definition:</b> index_map.hpp:84</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a28faae00ce5cd4cf0a401e2efcfd9b3f"><div class="ttname"><a href="classpni_1_1index__map.html#a28faae00ce5cd4cf0a401e2efcfd9b3f">pni::index_map::index_map</a></div><div class="ttdeci">index_map(map_type &amp;&amp;m)</div><div class="ttdoc">move constructor</div><div class="ttdef"><b>Definition:</b> index_map.hpp:119</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a44f7de6c94e65c388caf5c451a82f046"><div class="ttname"><a href="classpni_1_1index__map.html#a44f7de6c94e65c388caf5c451a82f046">pni::index_map::operator=</a></div><div class="ttdeci">map_type &amp; operator=(const map_type &amp;m)</div><div class="ttdoc">copy assignment operator</div><div class="ttdef"><b>Definition:</b> index_map.hpp:170</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a5da28a9de1d29d2bad97e9828c691a7a"><div class="ttname"><a href="classpni_1_1index__map.html#a5da28a9de1d29d2bad97e9828c691a7a">pni::index_map::iterator</a></div><div class="ttdeci">storage_type::iterator iterator</div><div class="ttdoc">read write iterator</div><div class="ttdef"><b>Definition:</b> index_map.hpp:90</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a70d96587c997568c809ed1f3e1aed298"><div class="ttname"><a href="classpni_1_1index__map.html#a70d96587c997568c809ed1f3e1aed298">pni::index_map::index_map</a></div><div class="ttdeci">index_map(storage_type &amp;&amp;s)</div><div class="ttdoc">constructor</div><div class="ttdef"><b>Definition:</b> index_map.hpp:161</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a77edbf8e30c80d31020d51a0d6f19f9d"><div class="ttname"><a href="classpni_1_1index__map.html#a77edbf8e30c80d31020d51a0d6f19f9d">pni::index_map::implementation_type</a></div><div class="ttdeci">MapImpT implementation_type</div><div class="ttdoc">policy type</div><div class="ttdef"><b>Definition:</b> index_map.hpp:88</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a7ce126522e34620e97d6b9abb5c766a3"><div class="ttname"><a href="classpni_1_1index__map.html#a7ce126522e34620e97d6b9abb5c766a3">pni::index_map::index_map</a></div><div class="ttdeci">index_map(const map_type &amp;m)</div><div class="ttdoc">copy constructor</div><div class="ttdef"><b>Definition:</b> index_map.hpp:111</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a8206183be94ff5a8cb2e01d924e9dcdb"><div class="ttname"><a href="classpni_1_1index__map.html#a8206183be94ff5a8cb2e01d924e9dcdb">pni::index_map::index</a></div><div class="ttdeci">ContainerT index(size_t offset) const</div><div class="ttdoc">compute index</div><div class="ttdef"><b>Definition:</b> index_map.hpp:313</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_a8f79ac20af545fc9e4b64a99d2af0355"><div class="ttname"><a href="classpni_1_1index__map.html#a8f79ac20af545fc9e4b64a99d2af0355">pni::index_map::operator=</a></div><div class="ttdeci">map_type &amp; operator=(map_type &amp;&amp;m)</div><div class="ttdoc">move assignment operator</div><div class="ttdef"><b>Definition:</b> index_map.hpp:185</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_aa0b3d6aae142d00ee16c06b01672fd35"><div class="ttname"><a href="classpni_1_1index__map.html#aa0b3d6aae142d00ee16c06b01672fd35">pni::index_map::offset</a></div><div class="ttdeci">size_t offset(const array_selection &amp;s, const ContainerT &amp;index) const</div><div class="ttdoc">compute offset with selection</div><div class="ttdef"><b>Definition:</b> index_map.hpp:291</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_ab33813819b5b1e95d3283705a75f5b12"><div class="ttname"><a href="classpni_1_1index__map.html#ab33813819b5b1e95d3283705a75f5b12">pni::index_map::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdoc">return iterator to first element</div><div class="ttdef"><b>Definition:</b> index_map.hpp:325</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_ab5e5b37286c803965b604bff1a034591"><div class="ttname"><a href="classpni_1_1index__map.html#ab5e5b37286c803965b604bff1a034591">pni::index_map::index_map</a></div><div class="ttdeci">index_map()</div><div class="ttdoc">default constructor</div><div class="ttdef"><b>Definition:</b> index_map.hpp:103</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_abac99c185b97925778a4dd72ec32bf3b"><div class="ttname"><a href="classpni_1_1index__map.html#abac99c185b97925778a4dd72ec32bf3b">pni::index_map::const_iterator</a></div><div class="ttdeci">storage_type::const_iterator const_iterator</div><div class="ttdoc">constant iterator over the map</div><div class="ttdef"><b>Definition:</b> index_map.hpp:92</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_acc7442c17e56458464e1761acb9d4ecc"><div class="ttname"><a href="classpni_1_1index__map.html#acc7442c17e56458464e1761acb9d4ecc">pni::index_map::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">get number of dimensions</div><div class="ttdef"><b>Definition:</b> index_map.hpp:232</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_add97c1a154ceb30753c554cae28812bc"><div class="ttname"><a href="classpni_1_1index__map.html#add97c1a154ceb30753c554cae28812bc">pni::index_map::begin</a></div><div class="ttdeci">const_iterator begin() const</div><div class="ttdoc">return const iterator to first element</div><div class="ttdef"><b>Definition:</b> index_map.hpp:337</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_ae05109fdce1bef5e4352a74bea059e6a"><div class="ttname"><a href="classpni_1_1index__map.html#ae05109fdce1bef5e4352a74bea059e6a">pni::index_map::rank</a></div><div class="ttdeci">size_t rank() const</div><div class="ttdoc">get number of dimensions</div><div class="ttdef"><b>Definition:</b> index_map.hpp:221</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_ae63b06ecd8ac8e1e7d48d42db4f5111d"><div class="ttname"><a href="classpni_1_1index__map.html#ae63b06ecd8ac8e1e7d48d42db4f5111d">pni::index_map::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdoc">return iterator to last+1 element</div><div class="ttdef"><b>Definition:</b> index_map.hpp:331</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_ae731a2e21ae0a66bd5b4d72cf756d797"><div class="ttname"><a href="classpni_1_1index__map.html#ae731a2e21ae0a66bd5b4d72cf756d797">pni::index_map::end</a></div><div class="ttdeci">const_iterator end() const</div><div class="ttdoc">return const iterator to last+1 element</div><div class="ttdef"><b>Definition:</b> index_map.hpp:343</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_aef938358c982bec7c1c862d75570d99a"><div class="ttname"><a href="classpni_1_1index__map.html#aef938358c982bec7c1c862d75570d99a">pni::index_map::_shape</a></div><div class="ttdeci">storage_type _shape</div><div class="ttdoc">storage for shape information</div><div class="ttdef"><b>Definition:</b> index_map.hpp:97</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_aefc6c5eab2ed30f1a217ee7c1eadbb74"><div class="ttname"><a href="classpni_1_1index__map.html#aefc6c5eab2ed30f1a217ee7c1eadbb74">pni::index_map::max_elements</a></div><div class="ttdeci">size_t max_elements() const</div><div class="ttdoc">get number of elements</div><div class="ttdef"><b>Definition:</b> index_map.hpp:204</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_af76ea569de21c4bc4611bdf8597174f0"><div class="ttname"><a href="classpni_1_1index__map.html#af76ea569de21c4bc4611bdf8597174f0">pni::index_map::offset</a></div><div class="ttdeci">size_t offset(const ContainerT &amp;index) const</div><div class="ttdoc">compute the offset</div><div class="ttdef"><b>Definition:</b> index_map.hpp:258</div></div>
<div class="ttc" id="aclasspni_1_1index__map_html_af7e2da9a9d8cd076c7e8e30f78a7bb78"><div class="ttname"><a href="classpni_1_1index__map.html#af7e2da9a9d8cd076c7e8e30f78a7bb78">pni::index_map::index_map</a></div><div class="ttdeci">index_map(const storage_type &amp;s)</div><div class="ttdoc">constructor</div><div class="ttdef"><b>Definition:</b> index_map.hpp:142</div></div>
<div class="ttc" id="aclasspni_1_1value_html"><div class="ttname"><a href="classpni_1_1value.html">pni::value</a></div><div class="ttdoc">type erasure for POD data</div><div class="ttdef"><b>Definition:</b> value.hpp:49</div></div>
<div class="ttc" id="acontainer__utils_8hpp_html"><div class="ttname"><a href="container__utils_8hpp.html">container_utils.hpp</a></div></div>
<div class="ttc" id="anamespacepni_html"><div class="ttname"><a href="namespacepni.html">pni</a></div><div class="ttdef"><b>Definition:</b> add_op.hpp:29</div></div>
<div class="ttc" id="anamespacepni_html_aec9ea31f62e69214bab4247566bc40b3"><div class="ttname"><a href="namespacepni.html#aec9ea31f62e69214bab4247566bc40b3">pni::enable_if</a></div><div class="ttdeci">invoke&lt; std::enable_if&lt; GeneralT::value &gt; &gt; enable_if</div><div class="ttdoc">shortcut for std::enable_if</div><div class="ttdef"><b>Definition:</b> sfinae_macros.hpp:110</div></div>
<div class="ttc" id="astructpni_1_1container__utils_html_a2c0e00b8f844957ded3628d3240a1bda"><div class="ttname"><a href="structpni_1_1container__utils.html#a2c0e00b8f844957ded3628d3240a1bda">pni::container_utils::create</a></div><div class="ttdeci">static container_type create(size_t n, value_type default_value=value_type())</div><div class="ttdoc">create container of given size</div><div class="ttdef"><b>Definition:</b> container_utils.hpp:84</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_1b44cbd788b81fa5231932b5373691d8.html">pni</a></li><li class="navelem"><a class="el" href="dir_b178f5a1825339176b49075a299a8ac9.html">arrays</a></li><li class="navelem"><a class="el" href="dir_31a9aa71bfb1cd9429d097b1ac1dbee3.html">index_map</a></li><li class="navelem"><a class="el" href="index__map_8hpp.html">index_map.hpp</a></li>
    <li class="footer">Generated on Thu May 5 2022 13:25:59 for PNI NeXus Library by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
